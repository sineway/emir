<!DOCTYPE html>
<html class="page">
	<head>
		<meta charset="utf-8">

		<script src="/node_modules/webextension-polyfill/dist/browser-polyfill.js"></script>
		<script type="module" src="/estimates.js"></script>
	</head>
	<body class="page__body">
		<template data-path="page">
			<header class="header">
				<h1 class="header__title">
					{{ header.title }}
				</h1>
				<menu class="header__menu">
					<li class="header__menu-item">
						<a class="button button--narrow" href="{{ header.navUrl }}">
							<span class="icon icon--tune"></span>
						</a>
					</li>
					<template data-path="header.badges">
						<li class="header__menu-item">
							<span class="button button--narrow" title="{{ label }}">
								<img class="icon icon--inline" src="{{ image }}">
							</span>
						</li>
					</template>
				</menu>
			</header>
			<main class="tabs main">
				<nav class="tabs__list">
					<template data-path="records">
						<a class="button tabs__item" href="#period-{{ count }}">
							{{ period | duration }}
						</a>
					</template>
				</nav>
				<template data-path="records">
					<article class="tabs__panel" id="period-{{ count }}">
						<h2 class="heading-2">
							{{ summary.title }}
						</h2>
						<ul class="stats">
							<template data-path="summary.items">
								<li class="stats__item">
									<span class="stats__item-value" title="{{ valueFormatted }}">
										{{ value | compact }}
									</span>
									<span class="stats__item-label">
										{{ label }}
									</span>
								</li>
							</template>
						</ul>
						<h2 class="heading-2">
							{{ revenueChart.title }}
						</h2>
						<figure class="pie-chart">
							<div
								class="pie-chart__graphics"
								style="
									--percent-1: {{ revenueChart.items.0.ratio | percent }};
									--percent-2: {{ revenueChart.items.1.ratio | percent }};
									--percent-3: {{ revenueChart.items.2.ratio | percent }};
									--percent-4: {{ revenueChart.items.3.ratio | percent }};
								"
							>
								<div
									class="pie-chart__graphics-label"
									title="{{ summary.items.1.value | currency }} (100%)"
								>
									{{ summary.items.1.value | compact }}
								</div>
							</div>
							<figcaption class="pie-chart__legend">
								<template data-path="revenueChart.items">
									<div
										class="pie-chart__legend-item"
										title="{{ value | currency }} ({{ ratio | percent }})"
									>
										<span class="pie-chart__legend-item-label">
											{{ label }}
										</span>
										<span class="pie-chart__legend-item-value">
											{{ value | compact }}
										</span>
									</div>
								</template>
							</figcaption>
						</figure>
						<h2 class="heading-2">
							{{ average.title }}
						</h2>
						<table class="table">
							<thead class="table__header">
								<tr class="table__header-row">
									<template data-path="average.columns">
										<td class="table__header-cell">
											{{ name }}
										</td>
									</template>
								</tr>
							</thead>
							<tbody class="table__body">
								<template data-path="average.rows">
									<tr class="table__body-row">
										<td class="table__body-cell">
											{{ period }}
										</td>
										<td class="table__body-cell" title="{{ sales | number }}">
											{{ sales | compact }}
										</td>
										<td class="table__body-cell" title="{{ revenue | currency }}">
											{{ revenue | compact}}
										</td>
										<td class="table__body-cell" title="{{ earnings | currency }}">
											{{ earnings | compact }}
										</td>
									</tr>
								</template>
							</tbody>
						</table>
					</article>
				</template>
			</main>
			<footer class="footer">
				<p>{{& poweredBy }}</p>
			</footer>
		</template>
		<template data-path="error">
			<main class="main">
				<div class="main__center">
					<h1 class="heading-1">
						{{ title }}
					</h1>
					<p class="paragraph">
						{{ description }}
					</p>
				</div>
			</main>
		</template>
	</body>
</html>
